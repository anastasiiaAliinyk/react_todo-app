(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(5),c=n.n(r),o=(n(13),n(7)),u=n(1),i=n(3),s=n.n(i),m=n(6),d=function(){var e=Object(m.a)(s.a.mark(function e(t,n){var a,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mate-api.herokuapp.com").concat(t),n);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Failed to load data ".concat(t));case 5:return e.next=7,a.json();case 7:return l=e.sent,e.abrupt("return",l.data||l);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),f=function(){return d("/todos").then(function(e){return e.filter(function(e){return 1182===e.userId})})},p=function(e){var t=e.addTodo,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],o=r[1];return l.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),(n={userId:1182,title:c,completed:!1},d("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).then(t),o("")}},l.a.createElement("input",{type:"text",className:"new-todo",value:c,placeholder:"What needs to be done?",onChange:function(e){o(e.target.value)},required:!0}))},E=n(2),b=n.n(E),h=function(e){var t=e.todo,n=e.deleteItem,a=function(e){(function(e){return d("/todos/".concat(e),{method:"DELETE"})})(e).then(function(e){return n(e.id)})};return l.a.createElement("li",{className:b()({completed:t.completed})},l.a.createElement("div",{className:"view"},l.a.createElement("input",{type:"checkbox",className:"toggle"}),l.a.createElement("label",null,t.title),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return a(t.id)}})),l.a.createElement("input",{type:"text",className:"edit"}))},v=function(e){var t=e.items,n=e.deleteItem,a=t.sort(function(e,t){return t.id-e.id});return l.a.createElement("ul",{className:"todo-list"},a.map(function(e){return l.a.createElement(h,{key:e.id,todo:e,deleteItem:n})}))};v.defaultProp={completed:!1,title:"No title"};var N=function(e){var t=e.selectedFilter,n=e.filterBy,a=e.text,r=e.filterTodos,c="all"===n?"#/":"#/".concat(n);return l.a.createElement("a",{href:c,className:b()({selected:n===t}),onClick:function(){return r(n)}},a)};var j=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(a.useState)("all"),E=Object(u.a)(d,2),b=E[0],h=E[1];Object(a.useEffect)(function(){f().then(r)},[]);var j=Object(a.useCallback)(function(e){switch(e){case"completed":return n.filter(function(e){return e.completed});case"active":return n.filter(function(e){return!e.completed});default:return n}},[n]),O=Object(a.useMemo)(function(){return j(b)},[b,j]);Object(a.useEffect)(function(){if(null!==n){var e=n.filter(function(e){return!e.completed}).length;m(e)}},[n]);var y=Object(a.useCallback)(function(e){r(function(t){return[].concat(Object(o.a)(t),[e])})},[]),g=Object(a.useCallback)(function(e){r(function(t){return t.filter(function(t){return t.id!==e})})},[]);return null===O?l.a.createElement("div",{className:"loading"},"Loading..."):l.a.createElement("section",{className:"todoapp"},l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement(p,{addTodo:y})),l.a.createElement("section",{className:"main"},l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all"}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),l.a.createElement(v,{items:O,deleteItem:g})),l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},s," items left"),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement(N,{selectedFilter:b,filterBy:"all",text:"All",filterTodos:h})),l.a.createElement("li",null,l.a.createElement(N,{selectedFilter:b,filterBy:"active",text:"Active",filterTodos:h})),l.a.createElement("li",null,l.a.createElement(N,{selectedFilter:b,filterBy:"completed",text:"Completed",filterTodos:h}))),l.a.createElement("button",{type:"button",className:"clear-completed"},"Clear completed")))};c.a.render(l.a.createElement(j,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.bd1720d5.chunk.js.map