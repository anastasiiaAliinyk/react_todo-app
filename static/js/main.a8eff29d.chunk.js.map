{"version":3,"sources":["api/api.js","TodoApp.js","TodoItem.js","TodoList.js","Link.js","App.js","index.js"],"names":["request","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","url","options","response","body","wrap","_context","prev","next","fetch","concat","sent","ok","Error","json","abrupt","data","stop","_x","_x2","apply","this","arguments","getTodos","then","todos","filter","todo","userId","TodoApp","addTodo","_useState","useState","_useState2","slicedToArray","query","setQuery","react_default","createElement","onSubmit","event","preventDefault","title","completed","method","headers","Content-type","JSON","stringify","type","className","value","placeholder","onChange","target","required","TodoItem","deleteItem","setStatus","checked","setChecked","onDeleteHandler","todoId","deleteTodo","id","setStatusOk","catch","classNames","onClick","TodoList","items","sortedTodosList","sort","previous","current","map","TodoItem_TodoItem","key","defaultProp","Link","selectedFilter","filterBy","text","filterTodos","href","selected","App","setTodos","_useState3","_useState4","notCompletedTodosCount","setCount","_useState5","_useState6","filteredBy","setFilteredBy","useEffect","filterTodosList","useCallback","filteredTodos","useMemo","count","length","toConsumableArray","TodoApp_TodoApp","htmlFor","TodoList_TodoList","Link_Link","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a8eff29d.chunk.js","sourcesContent":["export const BASE_URL = 'https://mate-api.herokuapp.com';\nexport const BASE_USERID = 1182;\n\nexport const request = async(url, options) => {\n  const response = await fetch(`${BASE_URL}${url}`, options);\n\n  if (!response.ok) {\n    throw new Error(`Failed to load data ${url}`);\n  }\n\n  const body = await response.json();\n\n  return body.data || body;\n};\n\nexport const getTodos = () => (\n  request('/todos')\n    .then(todos => todos.filter(todo => todo.userId === BASE_USERID))\n);\n\nexport const saveTodo = todo => request('/todos', {\n  method: 'POST',\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n  },\n  body: JSON.stringify(todo),\n  });\n\nexport const updateCompletedStatus = (todoId, value) => request(`/todos/${todoId}`, {\n  method: 'PATCH',\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n  },\n  body: JSON.stringify({\n    completed: value,\n  }),\n});\n\nexport const deleteTodo = todoId => request(`/todos/${todoId}`, {method: 'DELETE'});\n\nexport const saveUser = () => (request('/users', {\n  method: 'POST',\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n  },\n  body: JSON.stringify({\n    name: 'Anastasiia',\n    username: 'anastasiia',\n    email: 'al@example.com',\n    phone: 1234567890,\n  }),\n}));\n","import React, { useState } from 'react';\nimport { saveTodo, BASE_USERID } from './api/api';\n\nexport const TodoApp = ({ addTodo }) => {\n  const [query, setQuery] = useState('');\n\n  const onSubmitHandler = (event) => {\n    event.preventDefault();\n\n    saveTodo({\n      \"userId\": BASE_USERID,\n      \"title\": query,\n      \"completed\": false,\n    })\n    .then(addTodo);\n\n    setQuery('');\n  }\n\n  const onChangeHandler = (event) => {\n    setQuery(event.target.value);\n  }\n\n  return (\n      <form onSubmit={onSubmitHandler}>\n        <input\n          type=\"text\"\n          className=\"new-todo\"\n          value={query}\n          placeholder=\"What needs to be done?\"\n          onChange={onChangeHandler}\n          required\n        />\n      </form>\n    )\n};\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\n\nimport { deleteTodo, updateCompletedStatus } from './api/api';\n\nexport const TodoItem = ({ todo, deleteItem, setStatus }) => {\n  const [checked, setChecked] = useState(todo.completed);\n   const onDeleteHandler = (todoId) => {\n    deleteTodo(todoId)\n      .then(todo => deleteItem(todo.id));\n  }\n\n  const setStatusOk = (id, event) => {\n    setChecked(event.target.checked);\n    updateCompletedStatus(id, event.target.checked)\n      .catch(() => {\n        setChecked(!event.target.checked);\n      });\n    setStatus(id, event.target.checked)\n  }\n\n  return (\n    <li\n      className={classNames(\n        { completed: todo.completed },\n      )}\n    >\n    <div className=\"view\">\n      <input \n        type=\"checkbox\" \n        className=\"toggle\" \n        checked={checked}\n        onChange={(event) => setStatusOk(todo.id, event)}\n      />\n      <label>{todo.title}</label>\n      <button \n        type=\"button\" \n        className=\"destroy\" \n        onClick={() => onDeleteHandler(todo.id)}\n      />\n    </div>\n    <input type=\"text\" className=\"edit\" />\n  </li>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TodoItem } from './TodoItem';\n\nexport const TodoList = ({ items, deleteItem, setStatus }) => {\n  const sortedTodosList = items.sort((previous, current) => current.id - previous.id);\n\n  return (\n    <ul className=\"todo-list\">\n      {sortedTodosList.map(todo => (\n       <TodoItem \n        key={todo.id}\n        todo={todo} \n        deleteItem={deleteItem} \n        setStatus={setStatus}\n      />\n      ))}\n\n      {/*\n\n      <li className=\"editing\">\n        <div className=\"view\">\n          <input type=\"checkbox\" className=\"toggle\" />\n          <label>zxcvbnm</label>\n          <button type=\"button\" className=\"destroy\" />\n        </div>\n        <input type=\"text\" className=\"edit\" />\n      </li>\n\n    */}\n    </ul>\n  )\n};\n\nTodoList.defaultProp = {\n  completed: false,\n  title: 'No title',\n};\n\nTodoList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      completed: PropTypes.bool,\n      title: PropTypes.string,\n    }),\n  ).isRequired,\n  deleteItem: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport const Link = ({ \n  selectedFilter, \n  filterBy, \n  text, \n  filterTodos \n}) => {\n  const url = filterBy === 'all' ? \"#/\" : `#/${filterBy}`;\n\n  return (\n    <a \n      href={url}\n      className={classNames(\n        {selected: filterBy === selectedFilter}\n      )}\n      onClick={() => filterTodos(filterBy)}\n    >\n      {text}\n    </a>\n  )\n}\n","import React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { TodoApp } from './TodoApp';\nimport { TodoList } from './TodoList';\nimport { getTodos } from './api/api';\nimport { Link } from './Link';\n\nfunction App() {\n  const [todos, setTodos] = useState(null);\n  const [notCompletedTodosCount, setCount] =  useState('');\n  const [filteredBy, setFilteredBy] =  useState('all');\n \n  useEffect(() => {\n    getTodos()\n      .then(setTodos);\n  }, []);\n\n  const filterTodosList = useCallback ((filterBy) => {\n    switch(filterBy) {\n      case 'completed':\n        return todos.filter(todo => todo.completed);\n      case 'active':\n        return todos.filter(todo => !todo.completed);\n      default:\n        return todos;\n    }\n  }, [todos]);\n \n  const filteredTodos = useMemo(() => {\n    return filterTodosList(filteredBy)\n  }, [filteredBy, filterTodosList])\n\n  useEffect(() => {\n    if (todos === null) {\n      return;\n    }\n\n    const count = todos.filter(todo => !todo.completed).length;\n    setCount(count);\n  }, [todos])\n\n  const addTodo = useCallback((todo) => {\n    setTodos(todos => [...todos, todo]);\n  }, []);\n\n  const deleteTodo = useCallback((todoId) => {\n    setTodos(todos => todos.filter(todo => todo.id !== todoId));\n  }, []);\n\n  if (filteredTodos === null) {\n    return (\n      <div className=\"loading\">Loading...</div>\n    )\n  }\n\n  const setStatus = (todoId, completed) => {\n    setTodos(todos => todos.map((todo) => {\n      if (todo.id === todoId) {\n        todo.completed = completed;\n      }\n      return todo;\n    }))\n  }\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n        <TodoApp addTodo={addTodo} />\n      </header>\n\n      <section className=\"main\">\n        <input type=\"checkbox\" id=\"toggle-all\" className=\"toggle-all\" />\n        <label htmlFor=\"toggle-all\">Mark all as complete</label>\n        <TodoList items={filteredTodos} deleteItem={deleteTodo} setStatus={setStatus}/>\n      </section>\n\n      <footer className=\"footer\">\n        <span className=\"todo-count\">\n          {notCompletedTodosCount} items left\n        </span>\n\n        <ul className=\"filters\">\n          <li>\n            <Link \n              selectedFilter={filteredBy} \n              filterBy='all' \n              text='All' \n              filterTodos={setFilteredBy}\n            />\n          </li>\n          <li>\n          <Link \n              selectedFilter={filteredBy} \n              filterBy='active' \n              text='Active' \n              filterTodos={setFilteredBy}\n            />\n          </li>\n          <li>\n            <Link \n              selectedFilter={filteredBy} \n              filterBy='completed' \n              text='Completed' \n              filterTodos={setFilteredBy}\n            />\n          </li>\n        </ul>\n\n        <button type=\"button\" className=\"clear-completed\">\n          Clear completed\n        </button>\n      </footer>\n    </section>\n  );\n}\n\nexport default App;\n\n//usememo\n\n/* <a \n    href=\"#/\" \n    className={classNames(\n      {selected: filteredBy === 'all'}\n    )}\n    onClick={() => filterTodosList('all')}\n  >\n    All\n  </a> */\n\n/* <a \n    href=\"#/active\" \n    onClick={() => filterTodosList('active')}\n    className={classNames(\n      {selected: filteredBy === 'active'}\n    )}\n  >\n    Active\n  </a> */\n\n/* <a \n    href=\"#/completed\" \n    onClick={() => filterTodosList('completed')}\n    className={classNames(\n      {selected: filteredBy === 'completed'}\n    )}\n  >\n    Completed\n  </a> */\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}