(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),l=n.n(r),o=(n(13),n(7)),u=n(1),i=n(3),s=n.n(i),d=n(6),m=function(){var e=Object(d.a)(s.a.mark(function e(t,n){var a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://mate-api.herokuapp.com").concat(t),n);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Failed to load data ".concat(t));case 5:return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c.data||c);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),f=function(){return m("/todos").then(function(e){return e.filter(function(e){return 1182===e.userId})})},p=function(e){var t=e.addTodo,n=Object(a.useState)(""),r=Object(u.a)(n,2),l=r[0],o=r[1];return c.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),(n={userId:1182,title:l,completed:!1},m("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).then(t),o("")}},c.a.createElement("input",{type:"text",className:"new-todo",value:l,placeholder:"What needs to be done?",onChange:function(e){o(e.target.value)},required:!0}))},E=n(2),b=n.n(E),h=function(e){var t=e.todo,n=e.deleteItem,r=e.setStatus,l=Object(a.useState)(t.completed),o=Object(u.a)(l,2),i=o[0],s=o[1],d=function(e){(function(e){return m("/todos/".concat(e),{method:"DELETE"})})(e).then(function(e){return n(e.id)})},f=function(e,t){var n,a;s(t.target.checked),(n=e,a=t.target.checked,m("/todos/".concat(n),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({completed:a})})).catch(function(){s(!t.target.checked)}),r(e,t.target.checked)};return c.a.createElement("li",{className:b()({completed:t.completed})},c.a.createElement("div",{className:"view"},c.a.createElement("input",{type:"checkbox",className:"toggle",checked:i,onChange:function(e){return f(t.id,e)}}),c.a.createElement("label",null,t.title),c.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return d(t.id)}})),c.a.createElement("input",{type:"text",className:"edit"}))},v=function(e){var t=e.items,n=e.deleteItem,a=e.setStatus,r=t.sort(function(e,t){return t.id-e.id});return c.a.createElement("ul",{className:"todo-list"},r.map(function(e){return c.a.createElement(h,{key:e.id,todo:e,deleteItem:n,setStatus:a})}))};v.defaultProp={completed:!1,title:"No title"};var g=function(e){var t=e.selectedFilter,n=e.filterBy,a=e.text,r=e.filterTodos,l="all"===n?"#/":"#/".concat(n);return c.a.createElement("a",{href:l,className:b()({selected:n===t}),onClick:function(){return r(n)}},a)};var j=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),s=i[0],d=i[1],m=Object(a.useState)("all"),E=Object(u.a)(m,2),b=E[0],h=E[1];Object(a.useEffect)(function(){f().then(r)},[]);var j=Object(a.useCallback)(function(e){switch(e){case"completed":return n.filter(function(e){return e.completed});case"active":return n.filter(function(e){return!e.completed});default:return n}},[n]),O=Object(a.useMemo)(function(){return j(b)},[b,j]);Object(a.useEffect)(function(){if(null!==n){var e=n.filter(function(e){return!e.completed}).length;d(e)}},[n]);var k=Object(a.useCallback)(function(e){r(function(t){return[].concat(Object(o.a)(t),[e])})},[]),y=Object(a.useCallback)(function(e){r(function(t){return t.filter(function(t){return t.id!==e})})},[]);return null===O?c.a.createElement("div",{className:"loading"},"Loading..."):c.a.createElement("section",{className:"todoapp"},c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement(p,{addTodo:k})),c.a.createElement("section",{className:"main"},c.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all"}),c.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),c.a.createElement(v,{items:O,deleteItem:y,setStatus:function(e,t){r(function(n){return n.map(function(n){return n.id===e&&(n.completed=t),n})})}})),c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},s," items left"),c.a.createElement("ul",{className:"filters"},c.a.createElement("li",null,c.a.createElement(g,{selectedFilter:b,filterBy:"all",text:"All",filterTodos:h})),c.a.createElement("li",null,c.a.createElement(g,{selectedFilter:b,filterBy:"active",text:"Active",filterTodos:h})),c.a.createElement("li",null,c.a.createElement(g,{selectedFilter:b,filterBy:"completed",text:"Completed",filterTodos:h}))),c.a.createElement("button",{type:"button",className:"clear-completed"},"Clear completed")))};l.a.render(c.a.createElement(j,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.a8eff29d.chunk.js.map